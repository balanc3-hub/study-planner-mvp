<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Планувальник</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 30px; }
    input, button { padding: 5px; font-size: 16px; }
    ul { list-style-type: none; padding: 0; }
    li { margin: 5px 0; cursor: pointer; }
    .done { text-decoration: line-through; color: gray; }
    .delete { margin-left: 10px; color: red; cursor: pointer; }
  </style>
</head>
<body>
  <h1>Мій планувальник</h1>
  
  <input type="text" id="taskInput" placeholder="Введіть нове завдання">
  <button onclick="addTask()">Додати</button>
  
  <ul id="taskList"></ul>
  
  <script>
    const taskList = document.getElementById('taskList');
    const input = document.getElementById('taskInput');

    // Загружаем задачи из localStorage при загрузке страницы
    let tasks = JSON.parse(localStorage.getItem('tasks')) || [];

    function renderTasks() {
      taskList.innerHTML = '';
      tasks.forEach((task, index) => {
        const li = document.createElement('li');
        li.textContent = task.text;
        if (task.done) li.classList.add('done');

        // Отметить выполнено по клику
        li.onclick = () => {
          tasks[index].done = !tasks[index].done;
          saveTasks();
          renderTasks();
        };

        // Кнопка удалить
        const del = document.createElement('span');
        del.textContent = '×';
        del.classList.add('delete');
        del.onclick = (e) => {
          e.stopPropagation(); // чтобы не менять done при клике
          tasks.splice(index, 1);
          saveTasks();
          renderTasks();
        };
        li.appendChild(del);

        taskList.appendChild(li);
      });
    }

    function saveTasks() {
      localStorage.setItem('tasks', JSON.stringify(tasks));
    }

    function addTask() {
      const text = input.value.trim();
      if (!text) return;
      tasks.push({ text: text, done: false });
      input.value = '';
      saveTasks();
      renderTasks();
    }

    renderTasks();
  </script>
</body>
</html>
